<?php
 // http://localhost/PHP_labs/php_laba_1/2/Lab_3.1.1/text.php 





// 5 вопрос:
// Запись и чтение из файла. Пусть в корне вашего сайта лежит файл count.txt. Изначально в нем записано число 0. Сделайте так, чтобы при обновлении страницы наш скрипт каждый раз увеличивал это число на 1. То есть у нас получится счетчик обновления страницы в виде файла.

// Указываем имя файла для хранения счетчика.
$file = 'count.txt';

// Если файла нет, создаем его с начальным значением 0.
if (!file_exists($file)) {
    file_put_contents($file, '0');
}

// Считываем текущее значение счетчика из файла и увеличиваем его.
$currentCount = (int)file_get_contents($file);
$currentCount++;

// Записываем новое значение счетчика обратно в файл.
file_put_contents($file, $currentCount);

echo "Количество обновлений страницы: " . $currentCount;






// 16 вопрос:
//  Проверка существования файла. Проверьте, лежит ли в корне вашего сайта файл test.txt.

$file = 'test.txt';

// Проверяем, существует ли файл с помощью функции file_exists().
if (file_exists($file)) {
    echo "Файл «test.txt» существует, мы это видим.";
} else {
    echo "Файл «test.txt» отсутствует в корне сайта.";
}







// 18 вопрос:
// Работа с переносом строки. Дан файл test.txt. Прочитайте его текст, получите массив его строк.

$file = 'test.txt';
// Читаем файл и помещаем каждую строку в отдельный элемент массива.
// FILE_IGNORE_NEW_LINES - удаляет символ новой строки в конце каждой строки.
// FILE_SKIP_EMPTY_LINES - пропускает пустые строки.
$lines = file($file, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
print_r($lines);







// 27 вопрос:
// Функция file. Дан файл test.txt. В нем на каждой строке написано какое-то число. С помощью функции file найдите сумму этих чисел и выведете ее на экран.

$file = 'test.txt';
// Читаем файл в массив, игнорируя пустые строки и символы новой строки.
$lines = file($file, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
$sum = 0; // Инициализируем переменную для хранения суммы чисел.

foreach ($lines as $line) {
    $sum += (float)$line; // Преобразуем строку в число с плавающей точкой и добавляем к общей сумме.
}

echo "Сумма чисел в файле равна: " . $sum;







// 29 вопрос:
// Чтение из файла. Пусть в корне вашего сайта лежит файл test.txt. Считайте данные из этого файла и выведите их на экран.

$file = 'test.txt';

// Проверяем, существует ли файл
if (file_exists($file)) {
    $content = file_get_contents($file);
    echo nl2br($content); // Выводим содержимое файла на экран, заменяя переносы строк HTML тегами <br>

} else {
    echo "Файл не существует.";}
?>




